#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"
#include "game/level_update.h"
#include "levels/scripts.h"
#include "actors/common1.h"
#include "make_const_nonconst.h"

#include "areas/1/custom.model.inc.h"
#include "levels/jrb/header.h"
extern u8 _jrb_segment_ESegmentRomStart[]; 
extern u8 _jrb_segment_ESegmentRomEnd[];
const LevelScript level_jrb_entry[] = {
INIT_LEVEL(),
LOAD_MIO0(0x07, _jrb_segment_7SegmentRomStart, _jrb_segment_7SegmentRomEnd),
LOAD_RAW(0x1A, _jrbSegmentRomStart, _jrbSegmentRomEnd),
LOAD_RAW(0x0E, _jrb_segment_ESegmentRomStart, _jrb_segment_ESegmentRomEnd),
LOAD_MIO0(0xA,_water_skybox_mio0SegmentRomStart,_water_skybox_mio0SegmentRomEnd),
LOAD_MIO0(8,_common0_mio0SegmentRomStart,_common0_mio0SegmentRomEnd),
LOAD_RAW(15,_common0_geoSegmentRomStart,_common0_geoSegmentRomEnd),
LOAD_MIO0(5,_group1_mio0SegmentRomStart,_group1_mio0SegmentRomEnd),
LOAD_RAW(12,_group1_geoSegmentRomStart,_group1_geoSegmentRomEnd),
LOAD_MIO0(6,_group17_mio0SegmentRomStart,_group17_mio0SegmentRomEnd),
LOAD_RAW(13,_group17_geoSegmentRomStart,_group17_geoSegmentRomEnd),
ALLOC_LEVEL_POOL(),
MARIO(/*model*/ MODEL_MARIO, /*behParam*/ 0x00000001, /*beh*/ bhvMario),
LOAD_MODEL_FROM_GEO(MODEL_JRB_SHIP_LEFT_HALF_PART,  jrb_geo_000978),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_SHIP_BACK_LEFT_PART,  jrb_geo_0009B0),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_SHIP_RIGHT_HALF_PART, jrb_geo_0009E8),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_SHIP_BACK_RIGHT_PART, jrb_geo_000A00),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_SUNKEN_SHIP,          jrb_geo_000990),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_SUNKEN_SHIP_BACK,     jrb_geo_0009C8),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_ROCK,                 jrb_geo_000930),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_SLIDING_BOX,          jrb_geo_000960),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_FALLING_PILLAR,       jrb_geo_000900),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_FALLING_PILLAR_BASE,  jrb_geo_000918),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_FLOATING_PLATFORM,    jrb_geo_000948),
LOAD_MODEL_FROM_GEO(22, warp_pipe_geo),
LOAD_MODEL_FROM_GEO(23, bubbly_tree_geo),
LOAD_MODEL_FROM_GEO(24, spiky_tree_geo),
LOAD_MODEL_FROM_GEO(25, snow_tree_geo),
LOAD_MODEL_FROM_GEO(31, metal_door_geo),
LOAD_MODEL_FROM_GEO(32, hazy_maze_door_geo),
LOAD_MODEL_FROM_GEO(34, castle_door_0_star_geo),
LOAD_MODEL_FROM_GEO(35, castle_door_1_star_geo),
LOAD_MODEL_FROM_GEO(36, castle_door_3_stars_geo),
LOAD_MODEL_FROM_GEO(37, key_door_geo),
LOAD_MODEL_FROM_GEO(38, castle_door_geo),
// LOAD_MODEL_FROM_DL(132,0x08025f08,4),
// LOAD_MODEL_FROM_DL(158,0x0302c8a0,4),
// LOAD_MODEL_FROM_DL(159,0x0302bcd0,4),
// LOAD_MODEL_FROM_DL(161,0x0301cb00,4),
// LOAD_MODEL_FROM_DL(164,0x04032a18,4),
// LOAD_MODEL_FROM_DL(201,0x080048e0,4),
// LOAD_MODEL_FROM_DL(218,0x08024bb8,4),
JUMP_LINK(script_func_global_1),
JUMP_LINK(script_func_global_2),
JUMP_LINK(script_func_global_18),
JUMP_LINK(local_area_jrb_1_),
FREE_LEVEL_POOL(),
MARIO_POS(1,135,-6558,0,6464),
CALL(/*arg*/ 0, /*func*/ lvl_init_or_update),
CALL_LOOP(/*arg*/ 1, /*func*/ lvl_init_or_update),
CLEAR_LEVEL(),
SLEEP_BEFORE_EXIT(/*frames*/ 1),
EXIT(),
};
const LevelScript local_area_jrb_1_[] = {
AREA(1,Geo_jrb_1_0x1d01700),
TERRAIN(col_jrb_1_0xe046ca0),
SET_BACKGROUND_MUSIC(0,54),
TERRAIN_TYPE(0),
JUMP_LINK(local_objects_jrb_1_),
JUMP_LINK(local_warps_jrb_1_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_jrb_1_[] = {
OBJECT_WITH_ACTS(0,5960,-6946,19632,0,0,0,0xa0000, bhvSpinAirborneWarp,63),
OBJECT_WITH_ACTS(0,6409,-7317,19904,-2,0,0,0xb0000, bhvFadingWarp,62),
OBJECT_WITH_ACTS(0,-1954,-10592,-3749,0,-153,0,0xc0000, bhvFadingWarp,62),
OBJECT_WITH_ACTS(0,-2389,-10799,-3653,0,93,0,0xd0000, bhvFadingWarp,60),
OBJECT_WITH_ACTS(0,-1325,11445,-633,0,-151,0,0xe0000, bhvFadingWarp,60),
OBJECT_WITH_ACTS(122,4665,12589,-695,-2,0,0,0x1000000, bhvStar,63),
OBJECT_WITH_ACTS(195,5481,-7292,20286,-2,0,0,0x40000, bhvBobombBuddy,62),
OBJECT_WITH_ACTS(116,6426,-7343,19898,-2,0,0,0x0, bhvYellowCoin,62),
OBJECT_WITH_ACTS(122,478,-3593,1741,-2,0,0,0x5000000, bhvStar,63),
OBJECT_WITH_ACTS(122,645,7187,1564,-2,0,0,0x4000000, bhvStar,63),
OBJECT_WITH_ACTS(137,-8141,885,-10005,-2,0,0,0xc0000, bhvExclamationBox,63),
OBJECT_WITH_ACTS(137,-922,16823,-9903,-2,0,0,0xb0000, bhvExclamationBox,63),
OBJECT_WITH_ACTS(122,69,1927,9152,-2,0,0,0x0, bhvStar,1),
OBJECT_WITH_ACTS(116,-841,16302,-10580,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-819,16146,-9657,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-803,16146,-9113,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-1013,15938,-10140,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-1042,15938,-10973,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-677,15833,-10973,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-657,15729,-10138,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-694,15625,-8776,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-561,15365,-9049,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-553,15260,-10148,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-535,15156,-11142,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-1097,15104,-10782,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-1260,14844,-10224,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-1255,14844,-11270,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-372,14740,-11209,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-403,14635,-10325,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-332,14635,-9180,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-688,14479,-8493,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-1267,14375,-8681,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-1462,14375,-9769,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-1446,14271,-10811,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-895,14219,-11456,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-1463,14219,-11328,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-212,14219,-11337,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-218,14010,-10099,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-194,13906,-8928,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-511,13594,-8182,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,13,13542,-8349,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-93,13542,-9818,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-84,13281,-10705,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-328,13073,-11606,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-1582,13021,-11589,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-1635,13021,-10080,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-1553,12917,-9451,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-1574,12917,-8827,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-1587,12917,-8462,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-1077,12812,-8150,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,69,12656,-8098,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,46,12552,-8933,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,74,12240,-10079,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,30,12240,-11701,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-1376,12240,-11747,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-697,12240,-11752,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-1832,11719,-11204,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-1772,12031,-11305,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-1840,11510,-11832,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-691,11458,-11896,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,90,11458,-11868,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,201,11302,-11438,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,223,11302,-10650,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,185,11302,-10287,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,191,11302,-10036,-1,-65,-1,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(192,224,11302,-9412,-1,-65,-1,0x0, bhvGoomba,63),
OBJECT_WITH_ACTS(192,221,11302,-8473,-1,-65,-1,0x0, bhvGoomba,63),
OBJECT_WITH_ACTS(89,163,10938,-6592,-2,-70,-18,0x0, bhvHeaveHo,63),
OBJECT_WITH_ACTS(89,407,10938,-6179,-2,-70,-18,0x0, bhvHeaveHo,63),
OBJECT_WITH_ACTS(89,617,10938,-5699,-3,-81,-3,0x0, bhvHeaveHo,63),
OBJECT_WITH_ACTS(192,811,10938,-4909,-3,-81,-3,0x0, bhvGoomba,63),
OBJECT_WITH_ACTS(192,840,10938,-4374,-3,-81,-3,0x0, bhvGoomba,63),
OBJECT_WITH_ACTS(192,684,10938,-3697,-3,-81,-3,0x0, bhvGoomba,63),
OBJECT_WITH_ACTS(192,171,10938,-2670,-3,-81,-3,0x0, bhvGoomba,63),
OBJECT_WITH_ACTS(192,-785,10938,-1941,-3,-81,-3,0x0, bhvGoomba,63),
OBJECT_WITH_ACTS(192,-4466,10938,-7126,-3,-81,-3,0x0, bhvGoomba,63),
OBJECT_WITH_ACTS(192,-4936,10938,-6639,-3,-81,-3,0x0, bhvGoomba,63),
OBJECT_WITH_ACTS(192,-5315,10938,-5955,-3,-81,-3,0x0, bhvGoomba,63),
OBJECT_WITH_ACTS(192,-5564,11094,-5307,-3,-81,-3,0x0, bhvGoomba,63),
OBJECT_WITH_ACTS(217,-6803,10469,-5021,-3,-81,-3,0x0, bhvPushableMetalBox,63),
OBJECT_WITH_ACTS(217,-6502,10469,-5063,-3,-81,-3,0x0, bhvPushableMetalBox,63),
OBJECT_WITH_ACTS(217,-6191,10469,-5000,-3,-81,-3,0x0, bhvPushableMetalBox,63),
OBJECT_WITH_ACTS(217,-5879,10469,-5011,-3,-81,-3,0x0, bhvPushableMetalBox,63),
OBJECT_WITH_ACTS(116,-5617,10885,-4968,-3,-81,-3,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-5567,10885,-5022,-3,-81,-3,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-5570,10885,-4917,-3,-81,-3,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-5569,10885,-4970,-3,-81,-3,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-5517,10885,-4968,-3,-81,-3,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(116,-5465,10885,-4966,-3,-81,-3,0x0, bhvYellowCoin,63),
OBJECT_WITH_ACTS(124,-152,11146,-946,-3,-81,-3,0x30000, bhvMessagePanel,63),
OBJECT_WITH_ACTS(206,-2850,11094,-1694,-3,-18,-3,0x0, bhvSnufit,63),
OBJECT_WITH_ACTS(206,-1305,11094,-1651,-3,-18,-3,0x0, bhvSnufit,63),
OBJECT_WITH_ACTS(206,-46,11094,-2286,-3,-18,-3,0x0, bhvSnufit,63),
OBJECT_WITH_ACTS(206,-139,8594,-6548,-3,-18,-3,0x0, bhvSnufit,63),
OBJECT_WITH_ACTS(206,-4190,5365,-6869,-3,-18,-3,0x0, bhvSnufit,63),
OBJECT_WITH_ACTS(206,-5181,4740,-4952,0,0,0,0x0, bhvSnufit,63),
OBJECT_WITH_ACTS(206,-5071,1771,-4473,0,0,0,0x0, bhvSnufit,63),
OBJECT_WITH_ACTS(192,-4730,1094,-5623,0,0,0,0x0, bhvGoomba,63),
OBJECT_WITH_ACTS(192,-4094,1094,-6671,0,0,0,0x0, bhvGoomba,63),
OBJECT_WITH_ACTS(220,-3570,-4531,-6270,0,0,0,0x10000, bhvFlyGuy,63),
OBJECT_WITH_ACTS(220,-4726,-3594,-3744,0,0,0,0x10000, bhvFlyGuy,63),
OBJECT_WITH_ACTS(220,-4906,1667,-3365,0,0,0,0x10000, bhvFlyGuy,63),
OBJECT_WITH_ACTS(220,728,1667,996,0,0,0,0x10000, bhvFlyGuy,63),
OBJECT_WITH_ACTS(220,-289,260,2823,0,0,0,0x10000, bhvFlyGuy,63),
OBJECT_WITH_ACTS(220,-39,1823,8921,0,0,0,0x10000, bhvFlyGuy,63),
OBJECT_WITH_ACTS(0,-39,1823,8921,0,0,0,0x0, bhvGoombaTripletSpawner,63),
OBJECT_WITH_ACTS(0,1381,-3177,4927,0,0,0,0x0, bhvGoombaTripletSpawner,63),
OBJECT_WITH_ACTS(137,5154,-7135,20057,0,0,0,0x30000, bhvExclamationBox,63),
OBJECT_WITH_ACTS(140,5170,-7292,19814,0,0,0,0x0, bhvBlueCoinSwitch,63),
OBJECT_WITH_ACTS(118,371,-7135,19679,0,0,0,0x0, bhvHiddenBlueCoin,63),
OBJECT_WITH_ACTS(118,-4802,-7135,18999,0,0,0,0x0, bhvHiddenBlueCoin,63),
OBJECT_WITH_ACTS(118,-1121,-7135,19685,0,0,0,0x0, bhvHiddenBlueCoin,63),
OBJECT_WITH_ACTS(118,-2212,-7135,19657,0,0,0,0x0, bhvHiddenBlueCoin,63),
OBJECT_WITH_ACTS(118,-3878,-7135,19591,0,0,0,0x0, bhvHiddenBlueCoin,63),
OBJECT_WITH_ACTS(118,2516,-7135,19665,0,0,0,0x0, bhvHiddenBlueCoin,63),
OBJECT_WITH_ACTS(118,1697,-7135,19685,0,0,0,0x0, bhvHiddenBlueCoin,63),
OBJECT_WITH_ACTS(118,-3025,-7135,19711,0,0,0,0x0, bhvHiddenBlueCoin,63),
OBJECT_WITH_ACTS(118,-5533,-7135,18709,0,0,0,0x0, bhvHiddenBlueCoin,63),
OBJECT_WITH_ACTS(118,3420,-7135,19650,0,0,0,0x0, bhvHiddenBlueCoin,63),
OBJECT_WITH_ACTS(118,4457,-7135,19734,0,0,0,0x0, bhvHiddenBlueCoin,63),
OBJECT_WITH_ACTS(217,3872,-8542,19874,0,0,0,0x0, bhvPushableMetalBox,63),
OBJECT_WITH_ACTS(212,-2375,-10781,-3669,0,0,0,0x0, bhv1Up,60),
OBJECT_WITH_ACTS(217,2154,-3177,6948,0,-17,0,0x0, bhvPushableMetalBox,63),
OBJECT_WITH_ACTS(217,-3356,573,10189,0,-17,0,0x0, bhvPushableMetalBox,63),
OBJECT_WITH_ACTS(217,-1182,-781,14357,0,0,0,0x0, bhvPushableMetalBox,63),
RETURN()
};
const LevelScript local_warps_jrb_1_[] = {
WARP_NODE(10,9,1,10,0),
WARP_NODE(11,12,1,12,0),
WARP_NODE(12,12,1,11,0),
WARP_NODE(13,12,1,14,0),
WARP_NODE(14,12,1,13,0),
WARP_NODE(240,18,1,240,0),
WARP_NODE(241,18,1,241,0),
WARP_NODE(0,9,1,10,0),
WARP_NODE(1,9,1,10,0),
WARP_NODE(2,9,1,10,0),
WARP_NODE(3,9,1,10,0),
WARP_NODE(4,9,1,10,0),
WARP_NODE(5,9,1,10,0),
WARP_NODE(6,9,1,10,0),
RETURN()
};
